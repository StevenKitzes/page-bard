<html>
  <head>
    <style>
      body {
        background-color: black;
        color: white;
        font-family: 'Franklin Gothic Medium', Arial, sans-serif;
        margin: 0px;
        padding: 8px;
        text-align: center;
        width: 640px;
      }
      h1, h2 {
        margin-bottom: 4px;
      }
      img {
        margin-right: 8px;
      }
      select {
        width: 80%;
      }
      sup {
        font-size: 0.7em;
        position: relative;
        top: -0.25em;
        vertical-align: top;
      }
      .advanced-check-control > input {
        margin-left: 1em;
        margin-right: 1em;
      }
      .advanced-control {
        align-items: center;
        display: flex;
        flex-direction: row;
        justify-content: flex-start;
        margin-bottom: 0.5em;
        padding-left: 1em;
      }
      .advanced-select-control {
        display: grid;
        grid-template-columns: 50% 40% 10%;
        padding: 0 0 0 1em;
        text-align: left;
      }
      .advanced-select-control > img {
        margin: 0;
      }
      .control {
        align-items: center;
        border: 2px solid black;
        display: flex;
        flex-direction: row;
        font-size: 1.2em;
        justify-content: center;
        margin: 4px auto;
        width: 100%;
      }
      .control:hover {
        border: 2px solid orange;
        cursor: pointer;
      }
      .customization-controls {
        display: grid;
        grid-template-columns: 1fr 1fr;
      }
      .customization-row {
        align-items: center;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        margin: 10px;
        padding: 0 12px;
        width: calc(100% - 24px);
      }
      .hidden {
        display: none;
      }
      .page-head-spacer {
        flex: 1 1 auto;
        min-width: 0;
      }
      .q-btn {
        cursor: pointer;
        height: 1.5em;
        width: 1.5em;
      }
      #advanced-modal {
        background-color: black;
        display: none;
        height: 100vh;
        left: 0px;
        position: fixed;
        top: 0px;
        width: 100vw;
        z-index: 9;
      }
      #advanced-title {
        display: block;
        font-weight: bold;
        margin: 0.5em;
      }
      #controls {
        display: flex;
        flex-direction: column;
        margin: 0 auto;
        padding: 8px;
      }
      #customization {
        align-items: center;
        display: flex;
        flex-direction: row;
        justify-content:space-evenly;
        margin-bottom: 0px;
        margin-top: 4px;
      }
      #deep-description {
        border: 2px solid orange;
        border-radius: 1em;
        margin: 16px 24px 0px;
        padding: 12px;
      }
      #description {
        align-items: center;
        display: flex;
        flex: 0 1 auto;
        flex-direction: row;
        justify-content: center;
        margin-bottom: 0px;
        min-width: 0;
        padding-left: 8px;
      }
      #hint-modal {
        background-color: #663300;
        border: 3px solid orange;
        box-sizing: border-box;
        color: #E90;
        cursor: pointer;
        display: none;
        font-size: 1.2em;
        height: 100vh;
        left: 0px;
        line-height: 110%;
        padding: 24px;
        position: fixed;
        top: 0px;
        width: 100vw;
        z-index: 10;
      }
      #keep-short {
        margin: 0 1em;
      }
      #keep-short-span {
        align-items: center;
        display: flex;
        flex-direction: row;
        /* justify-content: space-between; */
      }
      #loading-modal {
        background-color: #663300;
        border: 3px solid orange;
        box-sizing: border-box;
        color: #E90;
        font-size: 1.5em;
        height: 100vh;
        left: 0px;
        padding: 24px;
        position: fixed;
        top: 0px;
        width: 100vw;
        z-index: 10;
      }
      #page-head {
        display: flex;
        margin-top: 0.5em;
        width: 100%;
      }
      #title {
        flex: 0 1 auto;
        font-size: 2em;
        min-width: 0;
        padding-right: 8px;
      }
    </style>
  </head>
  <body id="page-bard-body">
    <div id="hint-modal">
      <p id="hint-copy-element"></p>
      <p>(Click anywhere to close.)</p>
    </div>

    <div id="loading-modal">
      <h1>Loading Page Bard . . .</h1>
    </div>

    <div id="page-head">
      <span class="page-head-spacer"></span>
      <span id="title">Page Bard</span>
      <span id="description">Play (almost) any website you visit as a song!&nbsp;&nbsp;<img id="page-bard-info" class="q-btn" src="icons/question.png" /></span>
      <span class="page-head-spacer"></span>
    </div>

    <div id="controls">
      <div id="play" class="control">
        <img src="icons/play-button-48.png" /> Let Page Bard compose on its own.
      </div>
      <hr style="width: 80%" />

      <div id="play-custom" class="control">
        <img src="icons/play-button-48.png" /> Use Page Bard with the following customizations:
      </div>

      <div class="customization-controls">
        <div class="customization-row">
          <select id="select-mode">
            <option value="default">Choose musical mode/scale . . .</option>
            <option value="ionian">Ionian Mode (major scale)</option>
            <option value="dorian">Dorian Mode (melodic minor scale)</option>
            <option value="phrygian">Phrygian Mode</option>
            <option value="lydian">Lydian Mode</option>
            <option value="mixolydian">Mixolydian Mode</option>
            <option value="aeolian">Aeolian Mode (natural minor scale)</option>
            <option value="locrian">Locrian Mode</option>
            <option value="harmonic-minor">Harmonic Minor</option>
            <option value="byzantine">Byzantine</option>
          </select>&nbsp;<img id="scale-info-button" class="q-btn" src="icons/question.png" />
        </div>
  
        <div class="customization-row">
          <select id="select-progression">
            <option value="default">Choose chord progression . . .</option>
            <option value="none">No chord progression</option>
            <option value="blues">12-bar blues progression</option>
            <option value="jazz">Simple jazz progression</option>
            <option value="pop">Simple pop progression</option>
            <option value="alt-pop">Alternate pop progression</option>
            <option value="andalusian">Andalusian progression</option>
            <option value="ballad">Ballad progression</option>
            <option value="pop-rock">Pop rock progression</option>
            <option value="deterministic">Build progression from page</option>
          </select>&nbsp;<img id="progression-info-button" class="q-btn" src="icons/question.png" />
        </div>
  
        <div class="customization-row">
          <select id="select-rests">
            <option value="default">Choose rest frequency . . .</option>
            <option value="none">No rests</option>
            <option value="minimal">Minimal rests</option>
            <option value="low">Less rests</option>
            <option value="normal">Normal/default rest usage</option>
            <option value="high">Lots of rests</option>
            <option value="extreme">Tons of rests</option>
          </select>&nbsp;<img id="rests-info-button" class="q-btn" src="icons/question.png" />
        </div>
  
        <div class="customization-row">
          <select id="select-rest-duration">
            <option value="default">Choose rest duration . . .</option>
            <option value="shortest">Shortest rests</option>
            <option value="short">Short rests</option>
            <option value="medium">Medium rests</option>
            <option value="long">Long rests</option>
            <option value="longest">Longest rests</option>
          </select>&nbsp;<img id="rest-duration-info-button" class="q-btn" src="icons/question.png" />
        </div>
  
        <div class="customization-row">
          <select id="select-randomization">
            <option value="default">Choose randomization factor . . .</option>
            <option value="none">Plain notes only</option>
            <option value="minimal">Minimal feature usage</option>
            <option value="low">Low feature usage</option>
            <option value="normal">Normal/default feature usage</option>
            <option value="high">Lots of feature usage</option>
            <option value="extreme">Tons of feature usage</option>
          </select>&nbsp;<img id="randomization-info-button" class="q-btn" src="icons/question.png" />
        </div>
  
        <div class="customization-row">
          <select id="select-trills">
            <option value="default">Choose trill frequency . . .</option>
            <option value="none">No trills</option>
            <option value="minimal">Minimal trills</option>
            <option value="low">Less trills</option>
            <option value="normal">Normal/default trill usage</option>
            <option value="high">Lots of trills</option>
            <option value="extreme">Tons of trills</option>
          </select>&nbsp;<img id="trills-info-button" class="q-btn" src="icons/question.png" />
        </div>
  
        <div class="customization-row">
          <select id="select-scale-runs">
            <option value="default">Choose scale run frequency . . .</option>
            <option value="none">No scale runs</option>
            <option value="minimal">Minimal scale runs</option>
            <option value="low">Less scale runs</option>
            <option value="normal">Normal/default scale run usage</option>
            <option value="high">Lots of scale runs</option>
            <option value="extreme">Tons of scale runs</option>
          </select>&nbsp;<img id="scale-runs-info-button" class="q-btn" src="icons/question.png" />
        </div>
  
        <div class="customization-row">
          <select id="select-arpeggiation">
            <option value="default">Choose arpeggiation frequency . . .</option>
            <option value="none">No arpeggiation</option>
            <option value="minimal">Minimal arpeggiation</option>
            <option value="low">Less arpeggiation</option>
            <option value="normal">Normal/default arpeggiation usage</option>
            <option value="high">Lots of arpeggiation</option>
            <option value="extreme">Tons of arpeggiation</option>
          </select>&nbsp;<img id="arpeggiation-info-button" class="q-btn" src="icons/question.png" />
        </div>

        <div class="customization-row">
          <select id="select-attack">
            <option value="default">Choose attack speed . . .</option>
            <option value="random">Random attack</option>
            <option value="slowest">Slowest attack</option>
            <option value="slow">Slow attack</option>
            <option value="medium">Medium attack</option>
            <option value="fast">Fast attack</option>
            <option value="fastest">Fastest attack</option>
          </select>&nbsp;<img id="attack-info-button" class="q-btn" src="icons/question.png" />
        </div>

        <div class="customization-row">
          <select id="select-decay">
            <option value="default">Choose decay speed . . .</option>
            <option value="random">Random decay</option>
            <option value="slowest">Slowest decay</option>
            <option value="slow">Slow decay</option>
            <option value="medium">Medium decay</option>
            <option value="fast">Fast decay</option>
            <option value="fastest">Fastest decay</option>
          </select>&nbsp;<img id="decay-info-button" class="q-btn" src="icons/question.png" />
        </div>
        
        <div class="customization-row">
          <select id="select-note-duration">
            <option value="default">Choose note duration . . .</option>
            <option value="shortest">Shortest notes</option>
            <option value="short">Short notes</option>
            <option value="medium">Medium notes</option>
            <option value="long">Long notes</option>
            <option value="longest">Longest notes</option>
          </select>&nbsp;<img id="note-duration-info-button" class="q-btn" src="icons/question.png" />
        </div>
        
        <div class="customization-row">
          <select id="select-chord-duration">
            <option value="default">Choose chord duration . . .</option>
            <option value="shortest">Shortest chord duration</option>
            <option value="short">Short chord duration</option>
            <option value="medium">Medium chord duration</option>
            <option value="long">Long chord duration</option>
            <option value="longest">Longest chord duration</option>
          </select>&nbsp;<img id="chord-duration-info-button" class="q-btn" src="icons/question.png" />
        </div>

        <div class="customization-row">
          <select id="select-oscillator">
            <option value="default">Choose oscillator . . .</option>
            <option value="random">Random oscillator</option>
            <option value="sawtooth">Sawtooth oscillator</option>
            <option value="sine">Sine oscillator</option>
            <option value="square">Square oscillator</option>
            <option value="triangle">Triangle oscillator</option>
          </select>&nbsp;<img id="oscillator-info-button" class="q-btn" src="icons/question.png" />
        </div>

        <div class="customization-row">
          Element highlighting? <input type="checkbox" id="highlighting" /> <img id="highlighting-info-button" class="q-btn" src="icons/question.png" />
        </div>
      </div>

      <p id="customization">
        <button id="reset-to-defaults">Reset all defaults</button>
        <span id='keep-short-span'>Keep short: <input type="checkbox" id="keep-short" /> <img id="keep-short-info-button" class="q-btn" src="icons/question.png" /></span>
        <button id="advanced-button">Advanced Controls</button>
      </p>

      <div id="logs"></div>

      <div id="advanced-modal">
        <span id="advanced-title">Advanced controls</span>
        <div class="customization-controls">
          <div class="advanced-control advanced-select-control">
            Mode
            <select class="advanced-select" id="advanced-select-mode">
              <option value="default">Default</option>
              <option value="ionian">Ionian</option>
              <option value="dorian">Dorian</option>
              <option value="phrygian">Phrygian</option>
              <option value="lydian">Lydian</option>
              <option value="mixolydian">Mixolydian</option>
              <option value="aeolian">Aeolian</option>
              <option value="locrian">Locrian</option>
              <option value="harmonic-minor">Harmonic Minor</option>
              <option value="byzantine">Byzantine</option>
            </select>
            <img id="advanced-scale-info-button" class="q-btn" src="icons/question.png" />
          </div>
    
          <div class="advanced-control advanced-select-control">
            Progression
            <select class="advanced-select" id="advanced-select-progression">
              <option value="default">Default</option>
              <option value="none">None</option>
              <option value="blues">12-bar blues</option>
              <option value="jazz">Simple jazz</option>
              <option value="pop">Simple pop</option>
              <option value="alt-pop">Alt pop</option>
              <option value="andalusian">Andalusian</option>
              <option value="ballad">Ballad</option>
              <option value="pop-rock">Pop rock</option>
              <option value="deterministic">Deterministic</option>
            </select><img id="advanced-progression-info-button" class="q-btn" src="icons/question.png" />
          </div>
    
          <div class="advanced-control advanced-select-control">
            Rests
            <select class="advanced-select" id="advanced-select-rests">
              <option value="default">Default</option>
              <option value="none">None</option>
              <option value="minimal">Minimal</option>
              <option value="low">Less</option>
              <option value="normal">Medium</option>
              <option value="high">Lots</option>
              <option value="extreme">Tons</option>
            </select><img id="advanced-rests-info-button" class="q-btn" src="icons/question.png" />
          </div>
    
          <div class="advanced-control advanced-select-control">
            Rest length
            <select class="advanced-select" id="advanced-select-rest-duration">
              <option value="default">Default</option>
              <option value="shortest">Shortest</option>
              <option value="short">Short</option>
              <option value="medium">Medium</option>
              <option value="long">Long</option>
              <option value="longest">Longest</option>
            </select><img id="advanced-rest-duration-info-button" class="q-btn" src="icons/question.png" />
          </div>
    
          <div class="advanced-control advanced-select-control">
            Randomization
            <select class="advanced-select" id="advanced-select-randomization">
              <option value="default">Default</option>
              <option value="none">Plain notes</option>
              <option value="minimal">Minimal</option>
              <option value="low">Low</option>
              <option value="normal">Default</option>
              <option value="high">Lots</option>
              <option value="extreme">Tons</option>
            </select><img id="advanced-randomization-info-button" class="q-btn" src="icons/question.png" />
          </div>
    
          <div class="advanced-control advanced-select-control">
            Trills
            <select class="advanced-select" id="advanced-select-trills">
              <option value="default">Default</option>
              <option value="none">None</option>
              <option value="minimal">Minimal</option>
              <option value="low">Less</option>
              <option value="normal">Default</option>
              <option value="high">Lots</option>
              <option value="extreme">Tons</option>
            </select><img id="advanced-trills-info-button" class="q-btn" src="icons/question.png" />
          </div>
    
          <div class="advanced-control advanced-select-control">
            Trill length
            <select class="advanced-select" id="advanced-select-trill-length">
              <option value="default">Default</option>
              <option value="short">Short</option>
              <option value="medium">Medium</option>
              <option value="long">Long</option>
              <option value="extreme">Extreme</option>
            </select><img id="advanced-trill-length-info-button" class="q-btn" src="icons/question.png" />
          </div>
    
          <div class="advanced-control advanced-select-control">
            Scale runs
            <select class="advanced-select" id="advanced-select-scale-runs">
              <option value="default">Default</option>
              <option value="none">None</option>
              <option value="minimal">Minimal</option>
              <option value="low">Less</option>
              <option value="normal">Default</option>
              <option value="high">Lots</option>
              <option value="extreme">Tons</option>
            </select><img id="advanced-scale-runs-info-button" class="q-btn" src="icons/question.png" />
          </div>
    
          <div class="advanced-control advanced-select-control">
            Arpeggios
            <select class="advanced-select" id="advanced-select-arpeggiation">
              <option value="default">Default</option>
              <option value="none">None</option>
              <option value="minimal">Minimal</option>
              <option value="low">Less</option>
              <option value="normal">Default</option>
              <option value="high">Lots</option>
              <option value="extreme">Tons</option>
            </select><img id="advanced-arpeggiation-info-button" class="q-btn" src="icons/question.png" />
          </div>
  
          <div class="advanced-control advanced-select-control">
            Attack
            <select class="advanced-select" id="advanced-select-attack">
              <option value="default">Default</option>
              <option value="random">Deterministic</option>
              <option value="slowest">Slowest</option>
              <option value="slow">Slow</option>
              <option value="medium">Medium</option>
              <option value="fast">Fast</option>
              <option value="fastest">Fastest</option>
            </select><img id="advanced-attack-info-button" class="q-btn" src="icons/question.png" />
          </div>
  
          <div class="advanced-control advanced-select-control">
            Decay
            <select class="advanced-select" id="advanced-select-decay">
              <option value="default">Default</option>
              <option value="random">Deterministic</option>
              <option value="slowest">Slowest</option>
              <option value="slow">Slow</option>
              <option value="medium">Medium</option>
              <option value="fast">Fast</option>
              <option value="fastest">Fastest</option>
            </select><img id="advanced-decay-info-button" class="q-btn" src="icons/question.png" />
          </div>
          
          <div class="advanced-control advanced-select-control">
            Note length
            <select class="advanced-select" id="advanced-select-note-duration">
              <option value="default">Default</option>
              <option value="shortest">Shortest</option>
              <option value="short">Short</option>
              <option value="medium">Medium</option>
              <option value="long">Long</option>
              <option value="longest">Longest</option>
            </select><img id="advanced-note-duration-info-button" class="q-btn" src="icons/question.png" />
          </div>
          
          <div class="advanced-control advanced-select-control">
            Chord length
            <select class="advanced-select" id="advanced-select-chord-duration">
              <option value="default">Default</option>
              <option value="shortest">Shortest</option>
              <option value="short">Short</option>
              <option value="medium">Medium</option>
              <option value="long">Long</option>
              <option value="longest">Longest</option>
            </select><img id="advanced-chord-duration-info-button" class="q-btn" src="icons/question.png" />
          </div>
  
          <div class="advanced-control advanced-select-control">
            Oscillator
            <select class="advanced-select" id="advanced-select-oscillator">
              <option value="default">Default</option>
              <option value="random">Deterministic</option>
              <option value="sawtooth">Sawtooth</option>
              <option value="sine">Sine</option>
              <option value="square">Square</option>
              <option value="triangle">Triangle</option>
            </select><img id="advanced-oscillator-info-button" class="q-btn" src="icons/question.png" />
          </div>
        </div>

        <hr />

        <div class="customization-controls">
          <div class="advanced-control advanced-check-control">
            Element highlighting <input type="checkbox" id="advanced-highlighting" /> <img id="advanced-highlighting-info-button" class="q-btn" src="icons/question.png" />
          </div>
          
          <div class="advanced-control advanced-check-control">
            Keep short <input type="checkbox" id="advanced-keep-short" /> <img id="advanced-keep-short-info-button" class="q-btn" src="icons/question.png" />
          </div>
        </div>

        <hr />

        <div class="customization-controls">
          <div class="advanced-control">
            <button id="advanced-reset-to-defaults">Reset all defaults</button>
          </div>
  
          <div class="advanced-control">
            <button id="back-from-advanced-button">Back</button>
          </div>
        </div>
      </div>
    </div>
    <script src="controls.js"></script>
  </body>
</html>